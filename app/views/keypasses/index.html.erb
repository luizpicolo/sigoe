<div class="columns">
  <div class="column">
    <%= link_to new_keypass_path, class: "button is-success in-mobile-expand" do %>
      <span class="icon">
        <i class="ion-plus-round"></i>
      </span>
      <span>Nova Senha</span>
    <% end %>
  </div>
  <div class="column">
    <% show_search_error_message(@keypasses, params) %>
    <%= render 'layouts/search', path: keypasses_path, v: attr_order(@keypasses) %>
  </div>
</div>

<table class="table is-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Titulo</th>
      <th>Local</th>
      <th>Usu√°rio</th>
      <th>Senha</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @keypasses.each do |k| %>
    <tr>
      <td><%= k.id %></td>
      <td><%= k.title %></td>
      <td><%= k.local %></td>
      <td><%= k.user %></td>
      <td>
        <input type="text" class="input" id="id_<%= k.id %>" value="<%= k.key %>">
      </td>
      <td class="has-text-right">
        <a class="clipboard button is-addons in-mobile-expand" data-clipboard-action="copy" data-clipboard-target="#id_<%= k.id %>">
          <span class="icon">
            <i class="ion-ios-copy"></i>
          </span>
          <span>Copiar</span>
        </a>
        <%= link_to edit_keypass_path(k), class: 'button is-success in-mobile-expand' do %>
          <span class="icon">
            <i class="ion-edit"></i>
          </span>
          <span>Editar</span>
        <% end %>
        <%= link_to keypass_path(k), method: :delete, data: { confirm: 'Tem certeza?' }, class: 'button is-danger in-mobile-expand' do %>
          <span class="icon">
            <i class="ion-close"></i>
          </span>
          <span>Excluir</span>
        <% end %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @keypasses %>
